<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib">
<body>
	<ui:composition template="/WEB-INF/template.xhtml">
		<ui:define name="body">
			<h2>Configuracion</h2>
			<h:form>

				<rich:tabPanel switchType="client">
					<rich:tab label="PKI validation">
						<h:panelGrid columns="2">
							<h:outputText value="eID Trust Service XKMS2 URL:" />
							<h:inputText value="#{dssConfig.xkmsUrl}" size="50" />

							<h:outputText value="Dominio de Confianza para creacion de Firma:" />
							<h:inputText value="#{dssConfig.signTrustDomain}" size="20" />

							<h:outputText value="Dominio de Confianza para verificacion de Firma:" />
							<h:inputText value="#{dssConfig.verifyTrustDomain}" size="20" />

							<h:outputText value="Dominio de Confianza para identidad de Firma:" />
							<h:inputText value="#{dssConfig.identityTrustDomain}" size="20" />

							<h:outputText value="Dominio de Confianza TSA:" />
							<h:inputText value="#{dssConfig.tsaTrustDomain}" size="20" />
						</h:panelGrid>
						<h:commandButton value="Guardar" action="#{dssConfig.save}" />
					</rich:tab>

					<rich:tab label="Firma">
						<h:panelGrid columns="2">
<!--							<h:outputText value="Digest algorithm: " />
							<h:selectOneMenu value="#{dssConfig.signatureDigestAlgo}">
								<s:selectItems value="#{dssConfig.signatureDigestAlgoArray}"
									var="signatureDigestAlgo" label="#{signatureDigestAlgo.algoId}" />
								<s:convertEnum />
							</h:selectOneMenu>-->

							<h:outputText value="Desfase de Sellado de Tiempo maximo (ms): " />
							<h:inputText value="#{dssConfig.timestampMaxOffset}" size="10" />

							<h:outputText value="Periodo de Gracia maximo (horas):" />
							<h:inputText value="#{dssConfig.maxGracePeriod}" size="10" />
						</h:panelGrid>
						<h:commandButton value="Guardar" action="#{dssConfig.save}" />
					</rich:tab>

					<rich:tab label="Artefactos">
						<h:panelGrid columns="2">

							<h:outputText value="Expiracion de Almacenamiento de Documentos (minutos)" />
							<h:inputText value="#{dssConfig.documentStorageExpiration}"
								size="10" />

							<h:outputText value="Programacion de Tareas Cron para Limpieza de Docmentos" />
							<h:inputText id="documentCleanupTaskCronSchedule"
								value="#{dssConfig.documentCleanupTaskCronSchedule}" size="10" />

							<h:outputText value="URL de DSS Web Service Local:" />
							<h:inputText value="#{dssConfig.dssWSUrl}" size="50" />

						</h:panelGrid>
						<h:commandButton value="Guardar" action="#{dssConfig.save}" />
					</rich:tab>

					<rich:tab label="TSP">
						<h:panelGrid columns="2">
							<h:outputText value="URL del Servidor TSP:" />
							<h:inputText value="#{dssConfig.tspUrl}" size="50" />

							<h:outputText value="OID de Politica de TSP: " />
							<h:inputText value="#{dssConfig.tspPolicyOid}" size="10" />

							<h:outputText value="Digest algorithm: " />
							<h:selectOneMenu value="#{dssConfig.tspDigestAlgo}">
								<s:selectItems value="#{dssConfig.tspDigestAlgoArray}"
									var="tspDigestAlgo" label="#{tspDigestAlgo.algoId}" />
								<s:convertEnum />
							</h:selectOneMenu>
						</h:panelGrid>
						<h:commandButton value="Guardar" action="#{dssConfig.save}" />
					</rich:tab>

					<rich:tab label="Red">
						<h:panelGrid columns="2">
							<h:outputText value="HTTP Proxy" />
							<h:selectBooleanCheckbox value="#{dssConfig.httpProxy}" />

							<h:outputText value="Host HTTP Proxy: " />
							<h:inputText value="#{dssConfig.httpProxyHost}" size="30" />

							<h:outputText value="Puerto HTTP Proxy: " />
							<h:inputText value="#{dssConfig.httpProxyPort}" size="10" />
						</h:panelGrid>
						<h:commandButton value="Guardar" action="#{dssConfig.save}" />
					</rich:tab>

					<rich:tab label="Mail">
						<h:panelGrid columns="2">
							<h:outputText value="Enviar por Mail documento firmado" />
							<h:selectBooleanCheckbox value="#{dssConfig.mailSignedDocument}" />

							<h:outputText value="Servidor SMTP: " />
							<h:inputText value="#{dssConfig.smtpServer}" size="30" />

							<h:outputText value="Mail de:" />
							<h:inputText value="#{dssConfig.mailFrom}" size="30" />

							<h:outputText value="Prefijo de Mail: " />
							<h:inputText value="#{dssConfig.mailPrefix}" size="20" />
						</h:panelGrid>
						<h:commandButton value="Guardar" action="#{dssConfig.save}" />
					</rich:tab>

					<rich:tab label="Seguridad">
						<h:panelGrid columns="2">
							<h:outputText value="Remover Tarjeta Intelijente" />
							<h:selectBooleanCheckbox value="#{dssConfig.removeCard}" />

							<h:outputText value="Seguridad Estricta de transporte HTTP" />
							<h:selectBooleanCheckbox value="#{dssConfig.hsts}" />
						</h:panelGrid>
						<h:commandButton value="Guardar" action="#{dssConfig.save}" />
					</rich:tab>

				</rich:tabPanel>

			</h:form>
		</ui:define>
	</ui:composition>
</body>
</html>
